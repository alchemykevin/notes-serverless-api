{"ast":null,"code":"import \"source-map-support/register\";\nexport default function handler(lambda) {\n  return function (event, context) {\n    return Promise.resolve() // Run the Lambda\n    .then(() => lambda(event, context)) // On success\n    .then(responseBody => [200, responseBody]) // On failure\n    .catch(e => {\n      return [500, {\n        error: e.message\n      }];\n    }) // Return HTTP response\n    .then(([statusCode, body]) => ({\n      statusCode,\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Credentials\": true\n      },\n      body: JSON.stringify(body)\n    }));\n  };\n}","map":{"version":3,"sources":["C:/Users/Tester/source/repos/notes-serverless-api/libs/handler-lib.js"],"names":["handler","lambda","event","context","Promise","resolve","then","responseBody","catch","e","error","message","statusCode","body","headers","JSON","stringify"],"mappings":";AAAA,eAAe,SAASA,OAAT,CAAiBC,MAAjB,EAAyB;AACtC,SAAO,UAAUC,KAAV,EAAiBC,OAAjB,EAA0B;AAC/B,WAAOC,OAAO,CAACC,OAAR,GACL;AADK,KAEJC,IAFI,CAEC,MAAML,MAAM,CAACC,KAAD,EAAQC,OAAR,CAFb,EAGL;AAHK,KAIJG,IAJI,CAIEC,YAAD,IAAkB,CAAC,GAAD,EAAMA,YAAN,CAJnB,EAKL;AALK,KAMJC,KANI,CAMGC,CAAD,IAAO;AACZ,aAAO,CAAC,GAAD,EAAM;AAAEC,QAAAA,KAAK,EAAED,CAAC,CAACE;AAAX,OAAN,CAAP;AACD,KARI,EASL;AATK,KAUJL,IAVI,CAUC,CAAC,CAACM,UAAD,EAAaC,IAAb,CAAD,MAAyB;AAC7BD,MAAAA,UAD6B;AAE7BE,MAAAA,OAAO,EAAE;AACP,uCAA+B,GADxB;AAEP,4CAAoC;AAF7B,OAFoB;AAM7BD,MAAAA,IAAI,EAAEE,IAAI,CAACC,SAAL,CAAeH,IAAf;AANuB,KAAzB,CAVD,CAAP;AAkBD,GAnBD;AAoBD","sourcesContent":["export default function handler(lambda) {\r\n  return function (event, context) {\r\n    return Promise.resolve()\r\n      // Run the Lambda\r\n      .then(() => lambda(event, context))\r\n      // On success\r\n      .then((responseBody) => [200, responseBody])\r\n      // On failure\r\n      .catch((e) => {\r\n        return [500, { error: e.message }];\r\n      })\r\n      // Return HTTP response\r\n      .then(([statusCode, body]) => ({\r\n        statusCode,\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          \"Access-Control-Allow-Credentials\": true,\r\n        },\r\n        body: JSON.stringify(body),\r\n      }));\r\n  };\r\n}"]},"metadata":{},"sourceType":"module"}